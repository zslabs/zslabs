<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Onward and upward - Zach Schnackel</title><script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=default,fetch,Number.isInteger"></script><link rel=stylesheet href=../../assets/css/site.css?1537095432000><link rel=alternate type=application/rss+xml name="Zach Schnackel" title="ZS Labs" href=../../rss.xml></head><body class=page-onward-and-upward><div style="border: 0px; clip: rect(0px 0px 0px 0px); height: 0px; overflow: hidden; padding: 0px; position: absolute; width: 0px"><svg width=1500 height=1000 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><defs><pattern id=pattern x=0 y=0 width=1 height=1><image transform=scale(.25) x=-800 y=-575 width=1500 height=1000 xlink:href=../../assets/media/pattern.png /></pattern></defs><rect width=1500 height=1000 fill=url(#pattern)></rect></svg></div><div class="container u-posRelative" style="overflow: hidden"><header class=header><div><a href=../../ class="button--reset logo-interior"><i data-icon=logo class=icon-logo--small></i></a></div><div><a href=#articles class=articles-interiorTrigger data-offcanvas><i data-icon=list></i></a></div><div><a href=#aboutModal class="button--reset about-trigger" data-modal><img src=data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 data-src=../../assets/media/me.png alt="Zach Schnackel"></a><div id=aboutModal class="modal aboutModal" tabindex=-1 role=dialog aria-labelledby=aboutModal-title aria-describedby=aboutModal-desc><div class=modal-dialog><div class=modal-body><div class="u-flex u-flexEnd"><button class="button--reset modal-close" type=button data-modal-close><i data-icon=close></i></button></div><img src=data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 data-src=../../assets/media/me.png class=aboutModal-image alt="Zach Schnackel"><h2 id=aboutModal-title class=u-textCenter>Hi, I'm Zach.</h2><div id=aboutModal-desc><ul class="inline inline--center inline--largeAbout-social"><li><a class=social-codepen href=https://codepen.io/zslabs><i data-icon=codepen></i></a></li><li><a class=social-github href=https://github.com/zslabs><i data-icon=github></i></a></li><li><a class=social-twitter href=https://twitter.com/zslabs><i data-icon=twitter></i></a></li></ul><p class=u-mv--large>I create buttons, borders, and other groovy things at <a href=https://www.gremlin.com class="u-textUnderline u-textDefault">Gremlin</a>. My background involves pushing the limits of what we can build on the backend and how we can experience it on the frontend. My passions are perfecting process and educating those around me.</p><div class="row row--largeGutter"><div class=column-6@medium><h4>Speaking/Consulting</h4><p>Have an event and/or consluting project you'd like me to be a part of? Awesome! <a href=mailto:info@zslabs.com>Let's chat</a>.</p></div><div class=column-6@medium><h4>How'd you build this site?!</h4><p>Because I love open-source&mdash;it's available for anyone to view. Find a bug? Report it! <a href=https://github.com/zslabs/zslabs.github.io>View source</a>.</p></div></div><div class="u-mt--xlarge u-textCenter"><span class=u-textMuted>Copyright &copy; 2018 Zach Schnackel. Penalty is</span> 🔥</div></div></div></div></div></div></header><main class="section article-content"><div class="container container--small"><h1 class=article-title>Onward and upward</h1><div class="u-textMuted u-mb--large">Jan 21st, 2017</div><div class="alert alert--primary article-series"><div class=alert-content><span class="u-textLarge u-pr--small">👋</span> This is part of my <a href=../../articles/gsap/ >GSAP case-study series!</a></div></div><p>Today&#39;s GSAP case-study will be into another animation I did for <a href=https://www.digitalocean.com>DigitalOcean</a>. The goal was to illustrate the growth of the company since its infancy.</p><p>Let&#39;s take a look at the illustration I was given:</p><div class=u-textCenter><img src=data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 data-src=../../assets/media/posts/onward-n-upward/illustration.png alt=Illustration></div><p>Breaking this down, there were a few different pieces to this animation:</p><ol><li>A main graph stroke that we want to draw starting from the left.</li><li>Dotted-lines with Droplets that will stagger in and have the Droplets pop-in when each completes.</li><li>Smaller dots that will follow the upper-portion of the graph, fade away, and start over again.</li></ol><h3 id=task-1>Task 1</h3><p>Thinking back a few years ago, drawing in a path is something that would seem like pure magic&mdash;in a lot of ways it still does. Nowadays, it&#39;s just another tool at our disposal. Chris Coyier wrote <a href=https://css-tricks.com/svg-line-animation-works/ >an article</a> explaining the ins-and-outs of this phenomenon, including a great example to get you started. With the power of GSAP, we can actually make that part of intricate timelines easily with their <a href=https://greensock.com/drawSVG>DrawSVG plugin</a>.</p><pre><code class=language-js>const featuresGraphTimeline = new TimelineMax();

featuresGraphTimeline
// Draw blue line
.fromTo(&#39;#Features-blueLine .Features-blueStroke&#39;, 2.5, {
  drawSVG: &#39;100% 100%&#39;
}, {
  drawSVG: &#39;0 100%&#39;,
  ease: Power0.easeNone
}, &#39;droplet-lines&#39;)
</code></pre><h3 id=task-2>Task 2</h3><p>We have several &quot;background Droplets&quot; with dotted lines that we&#39;d like to stagger in to represent milestones along the way for the company. My first-pass at this was to draw these dotted lines on the graph just as the main stroke was. Unfortunately, <a href="https://greensock.com/forums/topic/13364-draw-svg-and-dashed-line-problem/?p=55538">due to how DrawSVG is calculated</a>, that&#39;s easier said than done. While there are some workarounds, our use-case was a little more involved since there wasn&#39;t a solid background. So, identifying that these milestone-markers were straight lines, I instead went the route of animating their <code>y</code> position instead; same effect - MUCH easier.</p><pre><code class=language-js>featuresGraphTimeline
.staggerFrom(&#39;.Features-dropletLineGroup&#39;, .5, {
  delay: .5,
  y: &#39;100%&#39;
}, 0.25, &#39;droplet-lines&#39;);
</code></pre><p>For the Droplets located at &quot;the end of the road&quot; for each milestone, I used a combination of <a href=https://greensock.com/position-parameter>GSAP labels</a> and delays to get the timing just right.</p><pre><code class=language-js>featuresGraphTimeline
.staggerFrom(&#39;.Features-dropletLineGroup .Features-blueStroke&#39;, .25, {
  delay: 1.75,
  scale: 0,
  opacity: 0,
  transformOrigin: &#39;center center&#39;
}, 0.25, &#39;droplet-lines&#39;)
</code></pre><h3 id=task-3>Task 3</h3><p>Similar to my <a href=/articles/round-n-round#task-3>last case study</a>, I started this with a typical &quot;deer in headlights&quot; look on how to best approach this.</p><div class=u-textCenter><img src=data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 data-src=../../assets/media/posts/onward-n-upward/deer.gif alt="Oooooh crap"></div><p>First-off, did you know that this <a href=https://css-tricks.com/motion-along-path-in-css/ >will be possible</a> in the future?! Pretty cool stuff. Now, back to the reality of old browsers and pop-up ads. Unlike my other case study, this was a perfect candidate for the <a href=https://greensock.com/BezierPlugin-JS>Bezier plugin</a> to shine. With the power of <a href=https://greensock.com/morphSVG>MorphSVG</a> and its <code>pathDataToBezier()</code> function, I was able to feed it the coordinates of the main graph stroke path. Then, by determining the speed and length of time it would take for each dot to reach the end, adjusting both the delay and opacity fit perfectly. Since there were multiple dots that we&#39;d be moving at the same time, creating a mini-timeline for each required a loop.</p><pre><code class=language-js>// Iterate through DOM nodes
function forEach(array, callback, scope) {
  for (let i = 0; i &lt; array.length; i++) {
    callback.call(scope, i, array[i]); // passes back stuff we need
  }
};

// Return random integer from interval
function randomIntFromInterval(min, max) {
  return Math.floor(Math.random() * (max - min + 1) + min);
}

forEach(document.querySelectorAll(&#39;.Features-dot&#39;), (index, value) =&gt; {
  const tl = new TimelineMax({
    repeat: -1,
    delay: (index + randomIntFromInterval(1, 3))
  });

  tl
  .to(value, 1, {
    opacity: 1
  }, &#39;dot-path&#39;)
  .to(value, 20, {
    bezier: {
      values: graphPath,
      type: &#39;cubic&#39;
    },
    ease: Power0.easeNone
  }, &#39;dot-path&#39;)
  .to(value, 1, {
    delay: 19,
    opacity: 0
  }, &#39;dot-path&#39;);
});
</code></pre><p>Having this run on &quot;init&quot; of the animation took only wrapping the above in a function and having it called on the timeline&#39;s <code>onStart()</code> callback.</p><pre><code class=language-js>const featuresGraphTimeline = new TimelineMax({
  // Fire dot motion while blue line is being drawn
  onStart: dotMotion()
});
</code></pre><p>Below is the finished product. Let me know what you think!</p><p></p><p data-height=400 data-theme-id=23494 data-slug-hash=BzWapm data-default-tab=result data-user=digitalocean data-embed-version=2 data-pen-title="Exponential growth animation" data-preview=true class=codepen>See the Pen <a href=http://codepen.io/team/digitalocean/pen/BzWapm/ >Exponential growth animation</a> by DigitalOcean (<a href=http://codepen.io/digitalocean>@digitalocean</a>) on <a href=http://codepen.io>CodePen</a>.</p><p></p><script async src=https://production-assets.codepen.io/assets/embed/ei.js></script><hr class=u-mv--large><div id=disqus_thread><button type=button class="button button--comments button--fullWidth" data-js=loadComments>View Comments</button></div><script type=text/javascript>var disqus_shortname  = 'zslabs';
        var disqus_title      = 'Onward and upward';
        var disqus_identifier = '/articles/onward-and-upward';
        var disqus_url        = 'https://zslabs.com/articles/onward-and-upward';</script><noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div></main></div><aside id=articles class=offCanvas tabindex=-1 role=dialog aria-labelledby=articles-title><div class=offCanvas-panel><button class="button--reset offCanvas-close" type=button data-offcanvas-close><i data-icon=close></i></button><h2 class=article-title>Articles</h2><ul class=articles-list><li><a class=u-inlineBlock href=../../articles/i-❤️-loaders/ ><div class="u-textLarge articles-title">I ❤️ loaders</div><span class=u-textMuted>Mar 25th, 2017</span></a></li><li><a class=u-inlineBlock href=../../articles/onward-and-upward/ ><div class="u-textLarge articles-title">Onward and upward</div><span class=u-textMuted>Jan 21st, 2017</span></a></li><li><a class=u-inlineBlock href=../../articles/round-n-round/ ><div class="u-textLarge articles-title">Round &#39;n round</div><span class=u-textMuted>Jan 8th, 2017</span></a></li><li><a class=u-inlineBlock href=../../articles/gsap/ ><div class="u-textLarge articles-title">GSAP&#39;in</div><span class=u-textMuted>Jan 5th, 2017</span></a></li><li><a class=u-inlineBlock href=../../articles/polyno/ ><div class="u-textLarge articles-title">PolyNo?</div><span class=u-textMuted>Nov 15th, 2015</span></a></li><li><a class=u-inlineBlock href=../../articles/boomqueries/ ><div class="u-textLarge articles-title">BoomQueries - Element Queries, today</div><span class=u-textMuted>Apr 24th, 2015</span></a></li><li><a class=u-inlineBlock href=../../articles/svg-cool-kids/ ><div class="u-textLarge articles-title">Reference SVGs like the cool kids</div><span class=u-textMuted>Oct 14th, 2014</span></a></li><li><a class=u-inlineBlock href=../../articles/svg-background-fill/ ><div class="u-textLarge articles-title">Modifying SVG background fills</div><span class=u-textMuted>Sep 29th, 2014</span></a></li><li><a class=u-inlineBlock href=../../articles/do-more-with-less/ ><div class="u-textLarge articles-title">Do more with Less</div><span class=u-textMuted>Aug 14th, 2014</span></a></li><li><a class=u-inlineBlock href=../../articles/sass-smartypants/ ><div class="u-textLarge articles-title">Sass tips for the wise and extremely good-looking</div><span class=u-textMuted>May 20th, 2014</span></a></li><li><a class=u-inlineBlock href=../../articles/grunt-all-the-things/ ><div class="u-textLarge articles-title">Grunt all the things</div><span class=u-textMuted>Apr 21st, 2014</span></a></li><li><a class=u-inlineBlock href=../../articles/basey/ ><div class="u-textLarge articles-title">Basey - WordPress boilerplate theme</div><span class=u-textMuted>Mar 25th, 2014</span></a></li><li><a class=u-inlineBlock href=../../articles/less-is-more/ ><div class="u-textLarge articles-title">Less is more</div><span class=u-textMuted>Mar 9th, 2014</span></a></li><li><a class=u-inlineBlock href=../../articles/support-the-unsupported/ ><div class="u-textLarge articles-title">Support the unsupported</div><span class=u-textMuted>Feb 24th, 2014</span></a></li><li><a class=u-inlineBlock href=../../articles/furry-sassy/ ><div class="u-textLarge articles-title">Fury &amp; Sassy</div><span class=u-textMuted>Jan 29th, 2014</span></a></li><li><a class=u-inlineBlock href=../../articles/new-guts/ ><div class="u-textLarge articles-title">New guts</div><span class=u-textMuted>Jan 20th, 2014</span></a></li><li><a class=u-inlineBlock href=../../articles/pluggable-selectors/ ><div class="u-textLarge articles-title">Pluggable selectors - Sass vs Less</div><span class=u-textMuted>Sep 1st, 2013</span></a></li><li><a class=u-inlineBlock href=../../articles/accessing-external-wordpress-data/ ><div class="u-textLarge articles-title">Accessing external WordPress data</div><span class=u-textMuted>Jun 30th, 2013</span></a></li><li><a class=u-inlineBlock href=../../articles/bust-that-cache/ ><div class="u-textLarge articles-title">Bust that cache</div><span class=u-textMuted>Jun 8th, 2013</span></a></li><li><a class=u-inlineBlock href=../../articles/upgraded-yeti/ ><div class="u-textLarge articles-title">Upgraded Yeti</div><span class=u-textMuted>Apr 21st, 2013</span></a></li><li><a class=u-inlineBlock href=../../articles/versioned-dependencies-with-compass/ ><div class="u-textLarge articles-title">Versioned dependencies with Compass</div><span class=u-textMuted>Mar 31st, 2013</span></a></li><li><a class=u-inlineBlock href=../../articles/rethinking-the-wordpress-admin/ ><div class="u-textLarge articles-title">Rethinking the WordPress admin</div><span class=u-textMuted>Mar 16th, 2013</span></a></li><li><a class=u-inlineBlock href=../../articles/default-views-for-plugins/ ><div class="u-textLarge articles-title">Default views for plugins</div><span class=u-textMuted>Mar 9th, 2013</span></a></li><li><a class=u-inlineBlock href=../../articles/separating-form-and-function/ ><div class="u-textLarge articles-title">Separating form and function</div><span class=u-textMuted>Feb 20th, 2013</span></a></li><li><a class=u-inlineBlock href=../../articles/extendable-switch-statements/ ><div class="u-textLarge articles-title">Extendable switch statements</div><span class=u-textMuted>Feb 9th, 2013</span></a></li><li><a class=u-inlineBlock href=../../articles/journey-to-sublime/ ><div class="u-textLarge articles-title">Journey to Sublime</div><span class=u-textMuted>Feb 2nd, 2013</span></a></li><li><a class=u-inlineBlock href=../../articles/hello-kirby/ ><div class="u-textLarge articles-title">Hello Kirby</div><span class=u-textMuted>Jan 28th, 2013</span></a></li></ul></div></aside><script src=../../assets/js/site.js?1537095434000></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-17637644-1', 'auto');
      ga('send', 'pageview');</script></body></html>