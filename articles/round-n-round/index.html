<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Round &#39;n round - Zach Schnackel</title><script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=default,fetch,Number.isInteger"></script><link rel=stylesheet href=../../assets/css/site.css?1520774551000><link rel=alternate type=application/rss+xml name="Zach Schnackel" title="ZS Labs" href=../../rss.xml></head><body class=page-round-n-round><div style="border: 0px; clip: rect(0px 0px 0px 0px); height: 0px; overflow: hidden; padding: 0px; position: absolute; width: 0px"><svg width=1500 height=1000 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><defs><pattern id=pattern x=0 y=0 width=1 height=1><image transform=scale(.25) x=-800 y=-575 width=1500 height=1000 xlink:href=../../assets/media/pattern.png /></pattern></defs><rect width=1500 height=1000 fill=url(#pattern)></rect></svg></div><div class="container u-posRelative" style="overflow: hidden"><header class=header><div><a href=../../ class="button--reset logo-interior"><i data-icon=logo class=icon-logo--small></i></a></div><div><a href=#articles class=articles-interiorTrigger data-offcanvas><i data-icon=list></i></a></div><div><a href=#aboutModal class="button--reset about-trigger" data-modal><img src=data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 data-src=../../assets/media/me.png alt="Zach Schnackel"></a><div id=aboutModal class="modal aboutModal" tabindex=-1 role=dialog aria-labelledby=aboutModal-title aria-describedby=aboutModal-desc><div class=modal-dialog><div class=modal-body><div class="u-flex u-flexEnd"><button class="button--reset modal-close" type=button data-modal-close><i data-icon=close></i></button></div><img src=data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 data-src=../../assets/media/me.png class=aboutModal-image alt="Zach Schnackel"><h2 id=aboutModal-title class=u-textCenter>Hi, I'm Zach.</h2><div id=aboutModal-desc><ul class="inline inline--center inline--largeAbout-social"><li><a class=social-codepen href=https://codepen.io/zslabs><i data-icon=codepen></i></a></li><li><a class=social-github href=https://github.com/zslabs><i data-icon=github></i></a></li><li><a class=social-twitter href=https://twitter.com/zslabs><i data-icon=twitter></i></a></li></ul><p class=u-mv--large>I create buttons, borders, and other groovy things at <a href=http://www.rhinogram.com class="u-textUnderline u-textDefault">Rhinogram</a>. My background involves pushing the limits of of what we can build on the backend and how we can experience it on the frontend. My passions are perfecting process and educating those around me.</p><div class="row row--largeGutter"><div class=column-6@medium><h4>Speaking/Consulting</h4><p>Have an event and/or consluting project you'd like me to be apart of? Awesome! <a href=mailto:info@zslabs.com>Let's chat</a>.</p></div><div class=column-6@medium><h4>How'd you build this site?!</h4><p>Because I love open-source&mdash;it's available for anyone to view. Find a bug? Report it! <a href=https://github.com/zslabs/zslabs.github.io>View source</a>.</p></div></div><div class="u-mt--xlarge u-textCenter"><span class=u-textMuted>Copyright &copy; 2018 Zach Schnackel. Penalty is</span> üî•</div></div></div></div></div></div></header><main class="section article-content"><div class="container container--small"><h1 class=article-title>Round &#39;n round</h1><div class="u-textMuted u-mb--large">Jan 8th, 2017</div><div class="alert alert--primary article-series"><div class=alert-content><span class="u-textLarge u-pr--small">üëã</span> This is part of my <a href=../../articles/gsap/ >GSAP case-study series!</a></div></div><p>Today&#39;s deep-dive will be a Droplet animation I did for <a href=https://www.digitalocean.com>DigitalOcean</a>. This was a branding experiment to test out future initiatives for the company.</p><p>Let&#39;s take a look at the illustration I was given:</p><div class=u-textCenter><img src=data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 data-src=../../assets/media/posts/round-n-round/illustration.png alt=Illustration style="width: 400px"></div><p>I love getting illustrations from DO designers as there&#39;s no shortage of hand-movements and &quot;swoosh&quot; sounds between us as we construct how best to bring illustrations to life. Yes, we are professionals. No, we don&#39;t have any shame.</p><p>Breaking this down, there were a few different pieces to this animation:</p><ol><li>The entire Droplet should bob up and down, with the bottom shadow responding appropriately based on the proximity of the Droplet.</li><li>5 different dots following the respective &quot;dot-axises&quot;.</li><li>Each dot should go behind the shape as if the Droplet itself is on a different layer.</li></ol><h3 id=task-1>Task 1</h3><p>I started by creating two separate TweenMax iterations. With the Droplet, we&#39;re impacting the y-axis to travel up by <code>15px</code> with the <code>yoyo</code> property to automatically return to the starting position&mdash;repeating indefinitely.</p><p>For the bottom-shadow, we want to give the illusion of the Droplet getting closer to the imaginary floor we&#39;re setting in our scene. We&#39;ll still use the <code>yoyo</code> and <code>repeat</code> properties as we did for the Droplet, but instead of impacting the <code>y-axis</code>, we&#39;ll change the <code>scale</code>.</p><pre><code class=language-js>// Droplet bounce
TweenMax.to(&#39;#Droplet-boundingShape&#39;, 3, {
  y: -15,
  yoyo: true,
  repeat: -1
});

// Droplet shadow
TweenMax.to(&#39;.Droplet-shadow&#39;, 3, {
  scale: 0.85,
  yoyo: true,
  repeat: -1,
  transformOrigin: &#39;center center&#39;
});
</code></pre><h3 id=task-2>Task 2</h3><p>I decided to use the <a href=https://greensock.com/BezierPlugin-JS>Bezier Plugin</a> which accepts an array of points/values and <code>type</code> to determine the strength of the curve, taking your target element and translating based on the aforementioned attributes. Since the dotted-lines were two separate paths (more on that later), I decided against using the <a href=https://greensock.com/forums/topic/13581-animate-svg-object-along-motion-path/ >suggestion from this post</a> and mapped out what I called each &quot;hard-stop&quot;.</p><div class=u-textCenter><img src=data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 data-src=../../assets/media/posts/round-n-round/hard-stops.png alt="Hard stops"></div><p>By finding each position relative to the <code>[0, 0]</code> point I had each dot start at&mdash;the lower center&mdash; I was able to create a pretty reliable coordinate system that ended up back at the beginning. The first for example, was:</p><pre><code class=language-js>// Coordinates of first dot
{x: 46, y: -8},
{x: 0, y: -16},
{x: -46, y: -8},
{x: 0, y: 0}
</code></pre><p>Then, with the <code>type</code> attribute the Bezier plugin provides, I was able to adjust the curviness of the path it would follow based on the imperfect nature of each dotted circle.</p><h3 id=task-3>Task 3</h3><p>Oof - let&#39;s start out this task with one of those. As I quickly ran through ways of tackling #1 and #2 in my head with <a href=https://dribbble.com/masamikubo>Masami</a>, I suddenly came to the realization we were dealing with some sort of layered effect that would take a dot and shove it to the background behind the main Droplet.</p><p>As I struggled through a few different options, it suddenly dawned on me to look at the illustration itself. Each dotted circle was actually two paths; with one on top of the Droplet layer, and the other behind it. As I looked at the Droplet at its simplest, I knew the visual effect we were going for was more opaque when it reached the Droplet threshold. So, that&#39;s exactly what I did.</p><p>Now this was tedious to say the least, but determining the timing in which the dot would reach the edge (and come out the other side) I was able to stub-in an opacity update within that interval. With the power of GSAP and timelines, combining each of those tweens with specific delays was pretty easy:</p><pre><code class=language-js>// Timeline for each dot going behind the Droplet
timeline
.to(dot, 0.25, {
  delay: 1.85,
  opacity: 0.15,
  ease: Power0.easeNone
}, &#39;droplet-path&#39;)
.to(dot, 0.25, {
  delay: 2.85,
  opacity: 1,
  ease: Power0.easeNone
}, &#39;droplet-path&#39;);
</code></pre><p>I ran with that idea and figured out the timings, delays, and offsets for each dot. With some more JavaScript trickery, creating an object with each configuration, looping through them, and even setting a random start position for each was a breeze.</p><p>What you see below is the finished product. Let me know what you think!</p><p></p><p data-height=600 data-theme-id=23494 data-slug-hash=oLzJmR data-default-tab=result data-user=digitalocean data-embed-version=2 data-pen-title="Droplet animation" data-preview=true class=codepen>See the Pen <a href=http://codepen.io/team/digitalocean/pen/oLzJmR/ >Droplet animation</a> by DigitalOcean (<a href=http://codepen.io/digitalocean>@digitalocean</a>) on <a href=http://codepen.io>CodePen</a>.</p><p></p><script async src=https://production-assets.codepen.io/assets/embed/ei.js></script><hr class=u-mv--large><div id=disqus_thread><button type=button class="button button--comments button--fullWidth" data-js=loadComments>View Comments</button></div><script type=text/javascript>var disqus_shortname  = 'zslabs';
        var disqus_title      = 'Round &#39;n round';
        var disqus_identifier = '/articles/round-n-round';
        var disqus_url        = 'https://zslabs.com/articles/round-n-round';</script><noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div></main></div><aside id=articles class=offCanvas tabindex=-1 role=dialog aria-labelledby=articles-title><div class=offCanvas-panel><button class="button--reset offCanvas-close" type=button data-offcanvas-close><i data-icon=close></i></button><h2 class=article-title>Articles</h2><ul class=articles-list><li><a class=u-inlineBlock href=../../articles/i-‚ù§Ô∏è-loaders/ ><div class="u-textLarge articles-title">I ‚ù§Ô∏è loaders</div><span class=u-textMuted>Mar 25th, 2017</span></a></li><li><a class=u-inlineBlock href=../../articles/onward-and-upward/ ><div class="u-textLarge articles-title">Onward and upward</div><span class=u-textMuted>Jan 21st, 2017</span></a></li><li><a class=u-inlineBlock href=../../articles/round-n-round/ ><div class="u-textLarge articles-title">Round &#39;n round</div><span class=u-textMuted>Jan 8th, 2017</span></a></li><li><a class=u-inlineBlock href=../../articles/gsap/ ><div class="u-textLarge articles-title">GSAP&#39;in</div><span class=u-textMuted>Jan 5th, 2017</span></a></li><li><a class=u-inlineBlock href=../../articles/polyno/ ><div class="u-textLarge articles-title">PolyNo?</div><span class=u-textMuted>Nov 15th, 2015</span></a></li><li><a class=u-inlineBlock href=../../articles/boomqueries/ ><div class="u-textLarge articles-title">BoomQueries - Element Queries, today</div><span class=u-textMuted>Apr 24th, 2015</span></a></li><li><a class=u-inlineBlock href=../../articles/svg-cool-kids/ ><div class="u-textLarge articles-title">Reference SVGs like the cool kids</div><span class=u-textMuted>Oct 14th, 2014</span></a></li><li><a class=u-inlineBlock href=../../articles/svg-background-fill/ ><div class="u-textLarge articles-title">Modifying SVG background fills</div><span class=u-textMuted>Sep 29th, 2014</span></a></li><li><a class=u-inlineBlock href=../../articles/do-more-with-less/ ><div class="u-textLarge articles-title">Do more with Less</div><span class=u-textMuted>Aug 14th, 2014</span></a></li><li><a class=u-inlineBlock href=../../articles/sass-smartypants/ ><div class="u-textLarge articles-title">Sass tips for the wise and extremely good-looking</div><span class=u-textMuted>May 20th, 2014</span></a></li><li><a class=u-inlineBlock href=../../articles/grunt-all-the-things/ ><div class="u-textLarge articles-title">Grunt all the things</div><span class=u-textMuted>Apr 21st, 2014</span></a></li><li><a class=u-inlineBlock href=../../articles/basey/ ><div class="u-textLarge articles-title">Basey - WordPress boilerplate theme</div><span class=u-textMuted>Mar 25th, 2014</span></a></li><li><a class=u-inlineBlock href=../../articles/less-is-more/ ><div class="u-textLarge articles-title">Less is more</div><span class=u-textMuted>Mar 9th, 2014</span></a></li><li><a class=u-inlineBlock href=../../articles/support-the-unsupported/ ><div class="u-textLarge articles-title">Support the unsupported</div><span class=u-textMuted>Feb 24th, 2014</span></a></li><li><a class=u-inlineBlock href=../../articles/furry-sassy/ ><div class="u-textLarge articles-title">Fury &amp; Sassy</div><span class=u-textMuted>Jan 29th, 2014</span></a></li><li><a class=u-inlineBlock href=../../articles/new-guts/ ><div class="u-textLarge articles-title">New guts</div><span class=u-textMuted>Jan 20th, 2014</span></a></li><li><a class=u-inlineBlock href=../../articles/pluggable-selectors/ ><div class="u-textLarge articles-title">Pluggable selectors - Sass vs Less</div><span class=u-textMuted>Sep 1st, 2013</span></a></li><li><a class=u-inlineBlock href=../../articles/accessing-external-wordpress-data/ ><div class="u-textLarge articles-title">Accessing external WordPress data</div><span class=u-textMuted>Jun 30th, 2013</span></a></li><li><a class=u-inlineBlock href=../../articles/bust-that-cache/ ><div class="u-textLarge articles-title">Bust that cache</div><span class=u-textMuted>Jun 8th, 2013</span></a></li><li><a class=u-inlineBlock href=../../articles/upgraded-yeti/ ><div class="u-textLarge articles-title">Upgraded Yeti</div><span class=u-textMuted>Apr 21st, 2013</span></a></li><li><a class=u-inlineBlock href=../../articles/versioned-dependencies-with-compass/ ><div class="u-textLarge articles-title">Versioned dependencies with Compass</div><span class=u-textMuted>Mar 31st, 2013</span></a></li><li><a class=u-inlineBlock href=../../articles/rethinking-the-wordpress-admin/ ><div class="u-textLarge articles-title">Rethinking the WordPress admin</div><span class=u-textMuted>Mar 16th, 2013</span></a></li><li><a class=u-inlineBlock href=../../articles/default-views-for-plugins/ ><div class="u-textLarge articles-title">Default views for plugins</div><span class=u-textMuted>Mar 9th, 2013</span></a></li><li><a class=u-inlineBlock href=../../articles/separating-form-and-function/ ><div class="u-textLarge articles-title">Separating form and function</div><span class=u-textMuted>Feb 20th, 2013</span></a></li><li><a class=u-inlineBlock href=../../articles/extendable-switch-statements/ ><div class="u-textLarge articles-title">Extendable switch statements</div><span class=u-textMuted>Feb 9th, 2013</span></a></li><li><a class=u-inlineBlock href=../../articles/journey-to-sublime/ ><div class="u-textLarge articles-title">Journey to Sublime</div><span class=u-textMuted>Feb 2nd, 2013</span></a></li><li><a class=u-inlineBlock href=../../articles/hello-kirby/ ><div class="u-textLarge articles-title">Hello Kirby</div><span class=u-textMuted>Jan 28th, 2013</span></a></li></ul></div></aside><script src=../../assets/js/site.js?1520774552000></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-17637644-1', 'auto');
      ga('send', 'pageview');</script></body></html>